<!DOCTYPE html>
}
}


function createParticles(text, yOffset, colorFn) {
const off = document.createElement('canvas');
const offCtx = off.getContext('2d');
off.width = canvas.width;
off.height = canvas.height;


offCtx.fillStyle = 'white';
offCtx.textAlign = 'center';
offCtx.textBaseline = 'middle';
offCtx.font = '600 ' + Math.min(canvas.width / 12, 34) + 'px "Times New Roman"';
offCtx.fillText(text, canvas.width / 2, canvas.height / 2 + yOffset);


const data = offCtx.getImageData(0, 0, off.width, off.height).data;


for (let y = 0; y < off.height; y += 4) {
for (let x = 0; x < off.width; x += 4) {
const i = (y * off.width + x) * 4;
if (data[i + 3] > 150) {
particles.push(new Particle(
canvas.width / 2,
canvas.height,
x,
y,
colorFn(x)
));
}
}
}
}


createParticles(mainText, -90, x => x < canvas.width / 2 ? 'hsl(45,100%,60%)' : 'hsl(330,100%,65%)');
createParticles(subLines[0], 30, () => 'hsl(200,100%,70%)');
createParticles(subLines[1], 80, () => 'hsl(200,100%,70%)');
createParticles(subLines[2], 130, () => 'hsl(200,100%,70%)');


function drawBackgroundPulse() {
heartbeat += 0.03;
const pulse = Math.sin(heartbeat) * 0.15 + 0.25;
ctx.fillStyle = `rgba(0,0,0,${pulse})`;
ctx.fillRect(0, 0, canvas.width, canvas.height);
}


function drawAmbientSparks() {
if (phase !== 'done' && Math.random() < 0.05) {
ctx.fillStyle = 'rgba(255,255,255,0.15)';
ctx.beginPath();
ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height, 1, 0, Math.PI*2);
ctx.fill();
}
}


function loop() {
drawBackgroundPulse();


particles.forEach(p => {
p.update();
p.draw();
});


drawAmbientSparks();


timer++;
if (timer === 90) phase = 'form';
if (timer > 260) phase = 'done';


requestAnimationFrame(loop);
}


loop();
</script>
</body>
</html>
